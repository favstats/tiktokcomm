---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->


```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# tiktokcomm


<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
[![CRAN status](https://www.r-pkg.org/badges/version/tiktokcomm)](https://CRAN.R-project.org/package=tiktokcomm)
<!-- badges: end -->


The goal of tiktokcomm is to provide an R interface to the TikTok Commercial API, allowing users to query ads, advertisers, and commercial content data.

## Installation

You can install the development version of tiktokcomm from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("favstats/tiktokcomm")
```
## Load in the library

```{r}
library(tiktokcomm)
```

## Authentication

Before using any of the functions, you need to authenticate with the TikTok Commercial API. Please [first apply for access](https://developers.tiktok.com/products/commercial-content-api) and get your client key and secret.  Use the tiktokcomm_auth() function to set up your credentials:




```{r, eval = F}

tiktokcomm_auth()
```


This function will prompt you to enter your TikTok Commercial API client key and secret. It will store these securely and use them to obtain access tokens as needed.

# Functions


## Query Ads

```{r}
tiktokcomm_query_ads(
  start_date = "2024-01-01",
  end_date = "2024-03-31",
  country_code = "DE",
  search_term = "example",
  max_count = 5,
  max_pages = 1,
  verbose = F
)
```

This function queries the TikTok Commercial API for ads based on specified criteria.

You can also add details to the ads:

```{r}
tiktokcomm_query_ads(
  start_date = "2024-01-01",
  end_date = "2024-03-31",
  country_code = "DE",
  search_term = "example",
  max_count = 5,
  max_pages = 1, 
  include_details = T,
  verbose = F
)
```


## Query Advertisers

```{r}
tiktokcomm_query_advertisers(
  search_term = "awesome",
  max_count = 25,
  verbose = F
)
```



This function queries the TikTok Commercial API for advertisers based on a search term.


## Get Ad Details

```{r}
tiktokcomm_get_ad_details(
  ad_id = 1812268576617521,
  verbose = F
)
```


This function retrieves detailed information about a specific TikTok ad.

## Get Ad Report (this does not seem to work right now)

```{r}
tiktokcomm_get_ad_report(
  start_date = "2023-01-02",
  end_date = "2023-01-09",
  country_code = "ALL",
  advertiser_ids = c(7057157514558702338, 6876483895102014209),
  verbose = F
)
```


This function retrieves a report on ad publishing from the TikTok Commercial API.

## Query Commercial Content


```{r}
tiktokcomm_query_commercial_content(
  start_date = "2023-01-02",
  end_date = "2023-01-09",
  creator_country_code = "FR",
  max_count = 50,
  max_pages = 5,
  verbose = F
)
```

This function queries the TikTok Commercial API for commercial content based on specified criteria.

# Notes

All date inputs should be in "YYYY-MM-DD" format.

The verbose parameter in each function, when set to TRUE, provides detailed output about the API requests and responses.

Most functions support pagination. Use max_count to set the number of results per page and max_pages to limit the total number of pages retrieved.


# Contributing

Contributions to `tiktokcomm` are welcome. Please refer to the contribution guidelines for more information.

# License

This project is licensed under the MIT License - see the LICENSE.md file for details.

